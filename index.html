<!DOCTYPE html>
<html>
<head>
  <title>simple crystal game</title>
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <style type="text/css">

    .crystal-image {
      width: 300px;
      height: 300px;
    }

  </style>

</head>
<body>
<div class="page-header">
    <h1>Crystal Collector</h1> 
    </div>


<div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">Instructions</h3>
      </div>
    
      <div class="panel-body">
        <h3 id="instructions">
        <p>You will be given a random number at the start of the game.</p>
        <p>There are four crystals below. By clicking on a crystal you will add a specific amount of points to your total score.</p>
        <p>You win the game by matching your total score to the random number. You lose the game if your total score goes above the random number.</p>
        <p>Each time when the game starts. the game will change the values of each crystal.</p>

        </h3> 
      </div>
    </div>



  <div class="guess"> 
  <h1>Number to Guess: <span id="number-to-guess"></span></h1>

  <!-- Note that this div is now empty. We will fill it dynamically -->
  <div id="crystals">
    <img id="img1"  src="crystal1.jpg">
    <img id="img2" src="crystal2.jpg">
    <img id="img3" src="crystal3.jpg">
    <img id="img4" src="crystal4.jpg">
  </div>

  <!-- JAVASCRIPT  -->
  <!-- ========================================= -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <script type="text/javascript">
  
  // Define variables needed // 
  var targetNumber = "";
  var counter = 0;
  var crystal1 = "";
  var crystal2 = "";
  var crystal3 = "";
  var crystal4 = "";
  var counter = 0;
  var crystalScore = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];

  $(document).ready(function(){


  // set random goal number //
  targetNumber = Math.floor((Math.random() * 80) + 12);


  $("#number-to-guess").text(targetNumber);


    // jQuery.each(function() {
    //   $("#crystals") = Math.floor((Math.random() * 12) + 1);
    // });
    crystal1 = Math.floor((Math.random() * 12) + 1);
    crystal2 = Math.floor((Math.random() * 12) + 1);
    crystal3 = Math.floor((Math.random() * 12) + 1);
    crystal4 = Math.floor((Math.random() * 12) + 1);    
      console.log(crystal1);
      console.log(crystal2);
      console.log(crystal3);
      console.log(crystal4);
        var imageCrystal1 = $("#img1");
        imageCrystal1.val(crystal1);

        var imageCrystal2 = $("#img2");
        imageCrystal2.val(crystal2);

        var imageCrystal3 = $("#img3");
        imageCrystal3.val(crystal3);

        var imageCrystal4 = $("#img4");
        imageCrystal4.val(crystal4);
    
  });



  // This time, our click event applies to every single crystal on the page. Not just one.
    if ($("#img1").on("click", function() {
          counter += crystalValue;
          alert("New score: " + counter);
          }));

      else if ($("#img2").on("click", function() {
          counter += crystalValue;
          alert("New score: " + counter);
          }));
         
          else if ($("#img3").on("click", function() {
          counter += crystalValue;
          alert("New score: " + counter);
          }));

          else if ($("#img3").on("click", function() {
          counter += crystalValue;
          alert("New score: " + counter);
          })); 


    // Determining the crystal's value requires us to extract the value from the data attribute.
    // Using the $(this) keyword specifies that we should be extracting the crystal value of the clicked crystal.
    // Using the .attr("data-crystalvalue") allows us to grab the value out of the "data-crystalvalue" attribute.
    // Since attributes on HTML elements are strings, we must convert it to an integer before adding to the counter
    
    var crystalValue = ($(this).attr("data-crystalvalue"));
    crystalValue = parseInt(crystalValue);
    console.log(crystalValue);

    // We then add the crystalValue to the user's "counter" which is a global variable.
    // Every click, from every crystal adds to the global counter.
    counter += crystalValue;

    // All of the same game win-lose logic applies. So the rest remains unchanged.
    alert("New score: " + counter);

    if (counter === targetNumber) {
      alert("You win!");
    }

    else if (counter >= targetNumber) {
      alert("You lose!!");
    }

  });

  </script>
</body>
</html>
